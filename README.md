# How to use BinaryEdgeâ€™s API


<p align="center"><img src ="https://dl.dropboxusercontent.com/s/alzaxfybeckchos/how_to_use_api_2.png?dl=0: 200px;" /></p>

Note: all requests are identified by Job ID and are shown in the stream window.









|   | Input                                                                                                                                                                                                                                                                                                   | Output                                                    |
|---|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------|
| 1 | `curl https://stream.api.binaryedge.io/v1/stream -H 'X-Token:InsertYourClientToken' `                                                                                                                                                                                                                                     | (data stream)                                             |
| 2 | `curl https://api.binaryedge.io/v1/tasks -d '{"type":"scan", "description": "InsertYourDescriptionHere", "options":[{"targets":["InsertAnIPAddress/IPNetwork"], "ports":[{"port":InsertPort, "sample": InsertSampleSize, "modules": ["InsertModule"]}]}]}' -v -H 'X-Token:InsertYourClientToken'` | {"stream_url":"stream URL","job_id":"Job ID"}             |

### Data Stream

The data stream will send data to you as it's generated by our platform.

    Important: The Stream might disconnect sometimes, as such, it is the client's responsibility to reconnect, as it might miss results while disconnected.

There are 2 types of data streams available that can be consumed:

##### 1. firehose

_Endpoint_: https://stream.api.binaryedge.io/v1/firehose

_Description_: This stream contains all data generated by BinaryEdge scans. These include World Scans. This stream is restricted, based on your client account.

##### 2. stream

_Endpoint_: https://stream.api.binaryedge.io/v1/stream

_Description_: This stream contains all data generated by your requested Jobs.

_Endpoint_: https://stream.api.binaryedge.io/v1/stream?job_id=NNNNNN

_Description_: If you only want to access the stream of one particular Job, this endpoint provides a filter based on the provided job_id.


### Supported Modules



##### 1. ssh

_Description_: Extract SSH key and algorithms for SSH servers

_Detailed documentation_: [ssh module documentation](https://github.com/binaryedge/api-publicdoc/blob/master/modules/ssh.md "ssh")


##### 2. ssl
_Description_: Extract SSL type of encryption

_Detailed documentation_: [ssl module documentation](https://github.com/binaryedge/api-publicdoc/blob/master/modules/ssl.md "ssl")

##### 3. vnc
_Description_: Grab VNC information and screenshots

_Detailed documentation_: [vnc module documentation](https://github.com/binaryedge/api-publicdoc/blob/master/modules/vnc.md "vnc")


##### 4. service
_Description_: Extract product specific information from a remote address

_Detailed documentation_: [service module documentation](https://github.com/binaryedge/api-publicdoc/blob/master/modules/service.md "service")



Note: If you want a custom-made module, please contact BinaryEdge.





### FAQ

**Q: What is the sample parameter?**

**A:** The Sample parameter is used to define how many open ports the platform needs to find before stopping the scan. It is useful to test modules and different configurations for each module (that we are adding in the future). This parameter is optional - by default the scan stops only after scanning the entire list of IP addresses and ports.


**Q: How can I consume the stream?**

**A:** The stream outputs to STDOUT, allowing you to consume it in different ways. For example:

- Direct the stream to a file:
    - `curl https://stream.api.binaryedge.io/v1/stream -H 'X-Token:InsertYourClientToken' > file.txt`
- Pipe the stream to a custom application you developed to process it:
    - `curl https://stream.api.binaryedge.io/v1/stream -H 'X-Token:InsertYourClientToken' | application_name `


**Q: What should I do if I get a error 500?**

**A:** In this case, you should contact support@binaryedge.io



**Q:** How do I scan multiple hosts with one request?

**A:**

```
options: [{
   "targets": [array of cidrs (string)],
   "ports": [{
       "port": int,
       "modules": [array of module names (string)],
       "sample": int
   }]
}]
```

for example:

```
{
   "type": "scan",
   "description": "test a bunch of networks",
   "options": [
       {
         "targets": ["xxx.xxx.x.x/xx","xxx.xxx.x.x/xx"],
         "ports": [{
            "port": 995,
            "module": "service"
           },
           {
            "port": 22,
            "module": "ssh"
           }]
       }, {
         "targets": ["xxx.xxx.x.x/xx"],
         "ports": [{
            "port": 5900,
            "module": "vnc"
         }]
       }
     ]     
 }
 ```
